{"version":3,"sources":["webpack:///webpack/bootstrap 080b865edb4a9b726ab1?f679","webpack:///./symptom_selector/selector.js"],"names":["keys","disclaimerText","disclaimerNotAcceptedText","noSelectedSymptomsText","diagnosisMessage","noDiagnosisMessage","proposedSymptomsText","symptomListMessage","skinText","bornOnText","typeYourSymptomsText","selectSymptomsText","selectedSymptomsText","possibleDiseasesText","makeDiagnosisText","litProfName","litShortDescription","litDescription","litOccurrence","litSymptom","litFollow","litTreatment","litPossibleSymptoms","litTermsOfUse","litPrivacyPolicy","resObj","pathToWebservice","currentPlatform","language","token","specUrl","includeAllSpec","redirectMode","redirectUrl","termsUrl","privacyUrl","mode","$","_plugin","selectorStatus","Man","Woman","Boy","Girl","Gender","Male","Female","SymptomsLocations","Head","Chest","Arms","Legs","Hips","Skin","_childAvatar","_womanAvatar","_manAvatar","_childAvatarSmall","_womanAvatarSmall","_manAvatarSmall","_symptomList","_yearSelector","_selectedSelectorStatus","_selectedBodyPart","_selectedGender","_selectedYear","d","Date","n","parseInt","getFullYear","_defaultAdultYear","_defaultChildYear","_edgeYears","_statusLinkBorderColor","pathToImages","symptomListId","_diagnosisListId","methods","init","options","each","webservice","accessToken","platform","setCookie","_ajaxGetSpecificResources","Resize","currentAvatar","_getAvatarByStatus","_resizeSelector","Select","GetSelectedSymptoms","symptomList","Unbind","children","length","diagnosis","avatar","mapster","typeahead","unbind","empty","fn","symptomSelector","method","apply","Array","prototype","slice","call","arguments","error","_ajaxGetSymptoms","initTypeAhead","ajax","url","type","data","format","contentType","cache","async","dataType","jsonp","jsonpCallback","success","responseData","fillResults","beforeSend","jqXHR","settings","show","xhr","ajaxOptions","thrownError","window","console","log","responseText","complete","hide","JSON","stringify","_setSpecificResourcesCallback","_setUpSelector","getCookie","_createSelectorHeader","_createSelectorTable","_createImageMaps","avatarOptions","Object","LocationId","SelectorStatus","YearOfBirth","_highlightBodyParts","selectorTable","jQuery","selectorTableRow","statusContainer","_createChangeStatusContainer","avatarContainer","_createAvatarContainer","append","_markSelectedStatus","_createChildGenderSelector","_createStatusChangeLink","_addImages","_createWomanMap","_createChildMap","_createSkinLink","id","src","usemap","find","womanMap","name","area1","shape","coords","accesskey","href","click","_selectBodyPart","area2","area3","area4","area5","childMap","selectedStatus","imgSrc","statusLink","_setSelectorStatus","statusLinkImg","skinLink","skin_Text","text","skinImage","alt","hover","attr","_createChildAvatarSmallMale","male","maleIcon","checkIconChecked","checkIconUnchecked","bind","addClass","removeClass","_setSelectedGender","_createChildAvatarSmallFemale","female","femaleIcon","childGenderSelectorContainer","childAvatarSmallMale","childAvatarSmallFemale","_removeChildGenderSelector","remove","SetTranslationResources","header","searchField","_createSearchField","_createYearsField","yearContainer","yearIcon","yearText","searchContainer","ddlYears","i","opt","_handleSelectedYearChanged","val","selectedYear","_setSelectedYear","_makeDiagnosis","fillColor","fillOpacity","clickNavigate","scaleMap","mapKey","avatarHeight","height","location","_setSelectedBodyPart","e","setTimeout","_fillBodySublocationList","_showMainAvatar","_hideMainAvatar","_getSmallAvatarByStatus","selectedBodyPart","_clearSelectedStatusMark","selectedGender","selectedSmallAvatar","css","isDisclaimerChecked","Symptoms","specialisations","substringMatcher","strs","findMatches","q","cb","matches","substrRegex","RegExp","str","test","Name","push","value","symptoms","_symptoms","ValidSymptoms","_initTypeAhead","hint","highlight","minLength","displayKey","source","obj","datum","result","grep","ID","_setResourcesCallback","resources","Key","Value","litTermsOfUsePolicyPrivacy","litDisclaimerNotChecked","litYears","litSearchSymptoms","genSelectSymptoms","genSelectedSymptoms","genPossibleDiseases","btnGenerateDiagnose","txtProfessionalName","genShortDescription","genDescription","genOccurrence","genSymptom","genFollow1","genTreatment","_locationName","_selectorStatus","_locations","_validSymptoms","_selectedList","_selectedListId","_proposedList","_proposedListHeader","_symptomListMessage","_loader","_header","_emptySelectedSymptomMessage","_redFlagMessage","_avatarOptions","_initSymptomList","_getSelectedSymptoms","_showTerms","LoadBodyLocations","_ajaxLoadBodyLocations","LoadBodySublocations","_loadBodySublocation","SelectSymptom","_selectSymptom","SetValidSymptoms","synonyms","Synonyms","currentId","hasRedFlag","HasRedFlag","syn","IsSynonym","HealthSymptomLocationIDs","_addSelectedSymptoms","GetValidSymptoms","LoadProposedSymptoms","_clearProposedSymptom","_ajaxLoadProposedSymptoms","selectedLocationId","_addLocationsCallback","_ajaxLoadBodySublocations","locationId","_addSublocationsCallback","gender","year_of_birth","_addProposedSymptomsCallback","_ajaxGetRedFlagText","symptomId","_getRedFlagCallback","parent","_createNoSymptomsSelectedMessage","_createTermsElement","_createTermsNotAcceptedMessage","_createRedFlagMessage","redFlagMessageContainer","message","content","btnClose","_hideSymptoms","_isLoadedSublocations","_addBodySublocation","sublocation","_isValidSublocation","sublocationListElement","_isLoadedSymptoms","toggle","_getSublocationSymptoms","_fillSublocations","toggleClass","_addBodySublocationSymptoms","symptom","selectedSymptoms","sublocationSymptomListElement","isSelected","locations","sublocations","sublocationId","symptomListElement","valid","sort","_sortByName","redFlagText","html","_createSelectedSymptomElement","inArray","selected","a","b","aName","toLowerCase","bName","symptomElement","btnRemove","_removeSymptom","split","_addGenerateDiagnosisButton","btnGenerateDiagnosis","el","_hideTerms","p","checked","chkBoxTerms","litTermsOfUseInText","replace","litPrivacyPolicyInText","termsText","diagnosisButton","_addProposedSymptom","proposedSymptomListElement","_diagnosisList","_diagnosisMessage","_infoPage","_initDiagnosisList","GetDiagnosis","_clearDiagnosis","_ajaxGetDiagnosis","_createIssueInfoPage","infoPageLoader","btnPrint","_print","_createDiagnosisElement","_createDiagnosisNameElement","Issue","_createProbabilityElement","Accuracy","_createSpecialisationElement","Specialisation","_addDiagnosisCallback","_setDiagnosisMessage","_addIssueInfoCallback","issueInfo","htmlContent","countSynonyms","ProfName","DescriptionShort","Description","MedicalCondition","TreatmentDescription","PossibleSymptoms","windowHeight","animate","scrollTop","document","issueId","diagnosisName","diagnosisListElement","diagnosisNameElement","_ajaxGetIssueInfo","accuracy","progress","bar","currentProgress","width","interval","setInterval","clearInterval","specialisation","specList","specListElement","spec","SpecialistID","specNames","element","printSource","printFooter","printContent","clone","popupWin","open","write","title","close","_specialisationsList","_initSpecialisationList","GetSpecialisations","_clearSpecialisations","_ajaxGetSpecialisations","allSuggestedSpec","_createSpecialisationNameElement","_addSpecialisationsCallback","specnames","specName","specNameElement","cname","cvalue","exdays","setTime","getTime","expires","toGMTString","cookie","ca","c","trim","indexOf","substring","isChecked","arr","cnt","index"],"mappings":"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","file":"vendor.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 398);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 080b865edb4a9b726ab1","/**\n * ApiMedic.com Sample Avatar, a demo implementation of the ApiMedic.com Symptom Checker by priaid Inc, Switzerland\n *\n * Copyright (C) 2012 priaid inc, Switzerland\n *\n * This file is part of The Sample Avatar.\n *\n * This is free implementation: you can redistribute it and/or modify it under the terms of the\n * GNU General Public License Version 3 as published by the Free Software Foundation.\n *\n * The ApiMedic.com Sample Avatar is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n *\n * See the GNU General Public License for more details. You should have received a copy of the GNU\n * General Public License along with ApiMedic.com. If not, see <http://www.gnu.org/licenses/>.\n *\n * Authors: priaid inc, Switzerland\n */\n\nvar keys = [\n    \"litTermsOfUsePolicyPrivacy\",//disclaimerText\n    \"litDisclaimerNotChecked\",//disclaimerNotAcceptedText\n    \"litAddAdditionalComplaints\",//noSelectedSymptomsText\n    \"litEmergencyInfo\",//diagnosisMessage\n    \"litEmptyDiagnosisDataTemplate\",//noDiagnosisMessage\n    \"litSuggestedSymptoms\",//proposedSymptomsText\n    \"litCarouselItem4\",//symptomListMessage\n    \"genAvatarText\",//skinText\n    \"litYears\",//bornOnText\n    \"litSearchSymptoms\",//typeYourSymptomsText\n    \"genSelectSymptoms\",//selectSymptomsText\n    \"genSelectedSymptoms\",//selectedSymptomsText\n    \"genPossibleDiseases\",//possibleDiseasesText\n    \"btnGenerateDiagnose\",//makeDiagnosisText\n    \"txtProfessionalName\",//litProfName\n    \"genShortDescription\",//litShortDescription\n    \"genDescription\",//litDescription\n    \"genOccurrence\",//litOccurrence\n    \"genSymptom\",//litSymptom\n    \"genFollow1\",//litFollow\n    \"genTreatment\",//litTreatment\n    \"litPossibleSymptoms\",//litPossibleSymptoms\n    \"litTermsOfUse\", //litTermsOfUse\n    \"litPrivacyPolicy\" // litPrivacyPolicy\n];\n\nvar disclaimerText = \"\";\nvar disclaimerNotAcceptedText = \"\";\nvar noSelectedSymptomsText = \"\";\nvar diagnosisMessage = \"\";\nvar noDiagnosisMessage = \"\";\nvar proposedSymptomsText = \"\";\nvar symptomListMessage = \"\";\nvar skinText = \"\";\nvar bornOnText = \"\";\nvar typeYourSymptomsText = \"\";\nvar selectSymptomsText = \"\";\nvar selectedSymptomsText = \"\";\nvar possibleDiseasesText = \"\";\nvar makeDiagnosisText = \"\";\n\nvar litProfName = \"\";\nvar litShortDescription = \"\";\nvar litDescription = \"\";\nvar litOccurrence = \"\";\nvar litSymptom = \"\";\nvar litFollow = \"\";\nvar litTreatment = \"\";\nvar litPossibleSymptoms = \"\";\nvar litTermsOfUse = \"\";\nvar litPrivacyPolicy = \"\";\nvar resObj = {};\n\n\n\n/////////////////////////////Optional parameters//////////////////////////////////\n\n/// Path to priaid webservice\nvar pathToWebservice;\n\n/// Only for internal use\nvar currentPlatform = \"webservice\";\n\n/// Required language\nvar language = \"\";\n\n/// Security token for webservice access\nvar token;\n\n/// Specialisation search url\nvar specUrl = \"/specialisation\";\n\n/// Include always all specialisations for custom urls\nvar includeAllSpec = false;\n\n/// Use redirect mode instead of selecting body parts\nvar redirectMode = false;\n\n/// Redirect address\nvar redirectUrl = \"\";\n\n/// Terms url\nvar termsUrl = \"http://apimedic.net/Terms_en-gb.html\"; // Your terms html page\n\n/// Privacy url\nvar privacyUrl = \"http://apimedic.net/Privacy_en-gb.html\"; // Your privacy policy html page\n\n/// SelectorMode : diagnosis or specialisation\nvar mode = \"diagnosis\";\n\n//////////////////////////////////////////////////////////////////////\n/////////////Symptom selector plugin start///////////////////////\n\n(function ($) {\n\n    var _plugin;\n\n    var selectorStatus =\n        {\n            Man: \"Man\",\n            Woman: \"Woman\",\n            Boy: \"Boy\",\n            Girl: \"Girl\"\n        };\n\n    var Gender =\n        {\n            Male: \"Male\",\n            Female: \"Female\"\n        };\n\n    var SymptomsLocations =\n        {\n            Head: 6,\n            Chest: 15,\n            Arms: 7,\n            Legs: 10,\n            Hips: 16,\n            Skin: 17\n        };\n\n    var _childAvatar;\n    var _womanAvatar;\n    var _manAvatar;\n    var _childAvatarSmall;\n    var _womanAvatarSmall;\n    var _manAvatarSmall;\n    var _symptomList;\n\n    var _yearSelector;\n\n    var _selectedSelectorStatus;\n    var _selectedBodyPart;\n    var _selectedGender;\n    var _selectedYear;\n\n    var d = new Date();\n    var n = parseInt(d.getFullYear());\n\n    var _defaultAdultYear = n - 25;\n    var _defaultChildYear = n - 8;\n    var _edgeYears = n - 11;\n\n    var _statusLinkBorderColor = \"cccccc\";\n    var pathToImages = \"symptom_selector/images\";\n    var symptomListId = \"symptomList\";\n    var _diagnosisListId = \"diagnosisList\";\n\n\n\n    var methods = {\n\n        init: function (options) {\n\n            return this.each(function () {\n                _plugin = $(this);\n                pathToWebservice = options.webservice;\n                language = options.language;\n                token = options.accessToken;\n\n                if (options.specUrl) {\n                    specUrl = options.specUrl;\n                }\n\n                if (options.includeAllSpec)\n                    includeAllSpec = options.includeAllSpec;\n\n                if (options.platform)\n                    currentPlatform = options.platform;\n\n                if (options.redirectUrl) {\n                    setCookie(\"selectedBodyPart\", \"\", -1);\n                    redirectUrl = options.redirectUrl;\n                }\n\n                if (options.termsUrl) {\n                    termsUrl = options.termsUrl;\n                }\n\n                if (options.privacyUrl) {\n                    privacyUrl = options.privacyUrl;\n                }\n\n                if (options.mode) {\n                    mode = options.mode;\n                }\n\n                _ajaxGetSpecificResources();\n\n            });\n        },\n        Resize: function (options) {\n            var currentAvatar = _getAvatarByStatus(_selectedSelectorStatus);\n            _resizeSelector(currentAvatar);\n        },\n        Select: function (options) {\n            var currentAvatar = _getAvatarByStatus(_selectedSelectorStatus);\n            _resizeSelector(currentAvatar);\n        },\n        GetSelectedSymptoms: function (options) {\n            return $(\"#\" + symptomListId).symptomList(\"GetSelectedSymptoms\");\n        },\n        Unbind: function (options) {\n            if (_symptomList.children().length != 0)\n                _symptomList.symptomList(\"Unbind\");\n            if ($(\"#\" + _diagnosisListId).children().length != 0)\n                $(\"#\" + _diagnosisListId).diagnosis(\"Unbind\");\n\n            var avatar = _getAvatarByStatus(_selectedSelectorStatus);\n            avatar.mapster('unbind');\n\n            $(\"#prefetch .typeahead\").typeahead(\"destroy\");\n            _plugin.unbind('click');\n            _plugin.empty();\n        }\n    };\n\n    $.fn.symptomSelector = function (method) {\n        if (methods[method]) {\n            return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));\n        } else if (typeof method === 'object' || !method) {\n            return methods.init.apply(this, arguments);\n        } else {\n            $.error('Method ' + method + ' does not exist on jQuery.symptomSelector');\n        }\n\n    };\n\n    //////////////////ajax calls//////////////////////////////////////////\n\n    function _ajaxGetSymptoms(initTypeAhead) {\n        $.ajax({\n            url: pathToWebservice + \"/symptoms/0/\" + _selectedSelectorStatus,\n            type: \"GET\",\n            data:\n                {\n                    token: token,\n                    format: \"json\",\n                    language: language,\n                    platform: currentPlatform\n                },\n            contentType: \"application/json; charset=utf-8\",\n            cache: false,\n            async: false,\n            dataType: \"jsonp\",\n            jsonp: \"callback\",\n            jsonpCallback: \"fillResults\",\n            success: function (responseData) { fillResults(responseData, initTypeAhead); },\n            beforeSend: function (jqXHR, settings) {\n                $('#loader').show();\n            },\n            error: function (xhr, ajaxOptions, thrownError) {\n                if (window.console)\n                    console.log(xhr.responseText);\n            },\n            complete: function () {\n                $('#loader').hide();\n            }\n        });\n\n    }\n\n    function _ajaxGetSpecificResources() {\n        $.ajax({\n            url: pathToWebservice + \"/specificresources\",\n            type: \"GET\",\n            data:\n                {\n                    keys: JSON.stringify(keys),\n                    token: token,\n                    format: \"json\",\n                    language: language\n                },\n            async: false,\n            contentType: \"application/json; charset=utf-8\",\n            cache: false,\n            dataType: \"jsonp\",\n            jsonp: \"callback\",\n            jsonpCallback: \"_setSpecificResourcesCallback\",\n            success: function (responseData) { _setSpecificResourcesCallback(responseData); },\n            beforeSend: function (jqXHR, settings) {\n            },\n            error: function (xhr, ajaxOptions, thrownError) {\n                if (window.console)\n                    console.log(xhr.responseText);\n            },\n            complete: function () {\n            }\n        });\n    }\n\n    //////////////////ajax calls end//////////////////////////////////////\n\n    //////////////////private functions//////////////////////////////////////////\n    function _setUpSelector() {\n        _selectedSelectorStatus = getCookie(\"selectedSelectorStatus\") !== \"\" ? getCookie(\"selectedSelectorStatus\") : selectorStatus.Man;\n        _selectedBodyPart = getCookie(\"selectedBodyPart\") !== \"\" ? parseInt(getCookie(\"selectedBodyPart\")) : \"\";\n        //_selectedBodyPart = \"\";\n        _selectedGender = getCookie(\"selectedGender\") !== \"\" ? getCookie(\"selectedGender\") : Gender.Male;\n        _selectedYear = getCookie(\"selectedYear\") !== \"\" ? parseInt(getCookie(\"selectedYear\")) : _defaultAdultYear;\n\n        _createSelectorHeader();\n        _createSelectorTable();\n        _createImageMaps();\n\n        var avatarOptions = new Object();\n        avatarOptions.LocationId = _selectedBodyPart;\n        avatarOptions.SelectorStatus = _selectedSelectorStatus;\n        avatarOptions.Gender = _selectedGender;\n        avatarOptions.YearOfBirth = _selectedYear;\n        _ajaxGetSymptoms(true);\n        _symptomList = $(\"#\" + symptomListId).symptomList(avatarOptions);\n        _symptomList.symptomList(\"LoadBodyLocations\", avatarOptions);\n        _highlightBodyParts();\n    }\n\n    function _createSelectorTable() {\n        var selectorTable = jQuery(\"<table/>\", {\n        });\n\n        var selectorTableRow = jQuery(\"<tr/>\", {\n        });\n\n        var statusContainer = _createChangeStatusContainer();\n\n        var avatarContainer = _createAvatarContainer();\n\n        selectorTableRow.append(statusContainer);\n        selectorTableRow.append(avatarContainer);\n\n        selectorTable.append(selectorTableRow);\n\n        _markSelectedStatus(_selectedSelectorStatus);\n\n        _plugin.append(selectorTable);\n\n        if (_selectedSelectorStatus == selectorStatus.Boy || _selectedSelectorStatus == selectorStatus.Girl) {\n            _createChildGenderSelector();\n        }\n    }\n    function _createChangeStatusContainer() {\n        var statusContainer = jQuery(\"<td/>\", {\n            \"class\": \"status-container\"\n        });\n\n        // this._manAvatarSmall = _createStatusChangeLink(selectorStatus.Man);\n        this._womanAvatarSmall = _createStatusChangeLink(selectorStatus.Woman);\n        //TODO: ADD girl avatar\n        this._childAvatarSmall = _createStatusChangeLink(selectorStatus.Boy);\n\n        // statusContainer.append(this._manAvatarSmall);\n        statusContainer.append(this._womanAvatarSmall);\n        statusContainer.append(this._childAvatarSmall);\n\n        return statusContainer;\n    }\n\n    function _createAvatarContainer() {\n        var avatarContainer = jQuery(\"<td/>\", {\n            \"class\": \"avatar-container\"\n        });\n\n        return avatarContainer;\n    }\n\n    function _createImageMaps() {\n        _addImages();\n        // _createManMap();\n        _createWomanMap();\n        _createChildMap();\n        _createSkinLink();\n    }\n\n    function _addImages() {\n        // this._manAvatar = jQuery(\"<img/>\", {\n        //     id: \"manImg\",\n        //     src: pathToImages + \"/male.png\",\n        //     usemap: \"#manMap\"\n        // });\n\n        this._womanAvatar = jQuery(\"<img/>\", {\n            id: \"womanImage\",\n            src: pathToImages + \"/female.png\",\n            usemap: \"#womanMap\"\n        });\n\n        this._childAvatar = jQuery(\"<img/>\", {\n            id: \"childImage\",\n            src: pathToImages + \"/child.png\",\n            usemap: \"#childMap\"\n        });\n\n        switch (_selectedSelectorStatus) {\n            // case (selectorStatus.Man):\n            //     this._womanAvatar.hide();\n            //     this._childAvatar.hide();\n            //     break;\n            case (selectorStatus.Woman):\n                // this._manAvatar.hide();\n                this._childAvatar.hide();\n                break;\n            // case (selectorStatus.Boy):\n            //     this._manAvatar.hide();\n            //     this._womanAvatar.hide();\n            //     break;\n            case (selectorStatus.Girl):\n                // this._manAvatar.hide();\n                this._womanAvatar.hide();\n                break;\n        }\n\n        // _plugin.find(\".avatar-container\").append(this._manAvatar);\n        _plugin.find(\".avatar-container\").append(this._womanAvatar);\n        _plugin.find(\".avatar-container\").append(this._childAvatar);\n    }\n\n    // function _createManMap() {\n    //     var manMap = jQuery(\"<map/>\", {\n    //         id: \"manMap\",\n    //         name: \"manMap\"\n    //     });\n    //\n    //     var area1 = jQuery(\"<area/>\", {\n    //         shape: \"poly\",\n    //         coords: \"152,3, 150,1, 134,5, 123,12, 116,26, 114,41, 111,52, 114,64, 120,77, 124,86, 126,98, 123,110, 183,110, 179,98, 181,87, 183,75, 189,66, 195,59, 193,51, 191,46, 187,39, 186,31, 186,25, 181,17, 177,12, 171,6, 161,1, 154,1\",\n    //         accesskey: \"0\",\n    //         href: \"javascript:void(0)\",\n    //         click: function () { _selectBodyPart(SymptomsLocations.Head); }\n    //     });\n    //\n    //     var area2 = jQuery(\"<area/>\", {\n    //         shape: \"poly\",\n    //         coords: \"122,109, 119,106, 109,115, 97,121, 86,123, 79,126, 75,127, 75,182, 75,202, 76,213, 78,227, 79,237, 82,252, 84,258, 86,268, 221,268, 230,233, 233,213, 233,187, 233,175, 233,160, 233,126, 229,124, 204,117, 189,110, 117,110\",\n    //         accesskey: \"1\",\n    //         href: \"javascript:void(0)\",\n    //         click: function () { _selectBodyPart(SymptomsLocations.Chest); }\n    //     });\n    //\n    //     var area3 = jQuery(\"<area/>\", {\n    //         shape: \"poly\",\n    //         coords: \"85,268, 91,303, 90,319, 87,342, 84,363, 83,380, 80,400, 79,411, 79,420, 80,433, 231,433, 231,398, 229,375, 224,340, 222,316, 220,287, 221,268, 84,268\",\n    //         accesskey: \"2\",\n    //         href: \"javascript:void(0)\",\n    //         click: function () { _selectBodyPart(SymptomsLocations.Hips); }\n    //     });\n    //\n    //     var area4 = jQuery(\"<area/>\", {\n    //         shape: \"poly\",\n    //         coords: \"80,433, 78,433, 80,453, 84,481, 85,505, 84,532, 80,559, 77,585, 79,612, 83,653, 85,691, 85,716, 79,734, 76,753, 85,764, 99,767, 111,766, 120,762, 126,754, 125,741, 123,725, 121,707, 116,671, 117,647, 126,626, 127,606, 127,590, 124,577, 124,567, 135,524, 141,489, 146,466, 150,450, 153,438, 158,441, 166,468, 172,505, 181,547, 186,569, 182,592, 183,612, 188,639, 191,659, 188,704, 186,738, 185,754, 190,767, 207,767, 224,762, 232,753, 232,742, 227,730, 222,720, 223,705, 221,685, 221,677, 225,653, 230,622, 232,599, 231,567, 228,538, 228,511, 230,488, 232,467, 231,447, 231,433, 79,433\",\n    //         accesskey: \"3\",\n    //         href: \"javascript:void(0)\",\n    //         click: function () { _selectBodyPart(SymptomsLocations.Legs); }\n    //     });\n    //\n    //     var area5 = jQuery(\"<area/>\", {\n    //         shape: \"poly\",\n    //         coords: \"51,130, 33,146, 25,170, 25,187, 26,222, 24,239, 27,265, 22,283, 20,301, 21,316, 22,326, 16,338, 8,354, 6,363, 1,376, 6,380, 14,369, 23,382, 26,401, 34,414, 47,411, 50,405, 52,396, 56,392, 60,378, 59,360, 55,347, 53,337, 54,324, 59,303, 65,288, 66,270, 65,253, 65,249, 75,236, 75,221, 75,124, 53,129, 233,126, 262,136, 274,152, 280,174, 279,194, 282,221, 286,253, 283,286, 285,312, 288,340, 297,348, 301,362, 307,374, 305,378, 298,373, 293,366, 288,383, 282,403, 273,413, 266,411, 261,404, 258,397, 254,394, 250,375, 248,357, 250,349, 251,344, 255,333, 255,326, 250,300, 246,276, 244,255, 233,242, 233,237, 233,125\",\n    //         accesskey: \"4\",\n    //         href: \"javascript:void(0)\",\n    //         click: function () { _selectBodyPart(SymptomsLocations.Arms); }\n    //     });\n    //\n    //     manMap.append(area1);\n    //     manMap.append(area2);\n    //     manMap.append(area3);\n    //     manMap.append(area4);\n    //     manMap.append(area5);\n    //\n    //     _plugin.find(\".avatar-container\").append(manMap);\n    // }\n\n    function _createWomanMap() {\n        var womanMap = jQuery(\"<map/>\", {\n            id: \"womanMap\",\n            name: \"womanMap\"\n        });\n\n        var area1 = jQuery(\"<area/>\", {\n            shape: \"poly\",\n            coords: \"150,1, 124,8, 115,17, 110,36, 104,54, 98,71, 96,85, 98,102, 107,119, 118,130, 122,138, 185,138, 189,135, 187,132, 189,125, 201,113, 207,95, 208,76, 205,65, 201,52, 199,33, 195,24, 185,11, 168,3, 153,1\",\n            accesskey: \"0\",\n            href: \"javascript:void(0)\",\n            click: function () { _selectBodyPart(SymptomsLocations.Head); }\n        });\n\n        var area2 = jQuery(\"<area/>\", {\n            shape: \"poly\",\n            coords: \"121,139, 105,139, 95,187, 89,208, 90,220, 96,227, 103,235, 105,245, 204,245, 206,236, 211,226, 218,217, 221,209, 219,194, 201,142, 188,139, 120,139\",\n            accesskey: \"1\",\n            href: \"javascript:void(0)\",\n            click: function () { _selectBodyPart(SymptomsLocations.Chest); }\n        });\n\n        var area3 = jQuery(\"<area/>\", {\n            shape: \"poly\",\n            coords: \"104,244, 106,270, 108,292, 103,311, 97,329, 92,346, 90,359, 90,375, 91,386, 222,386, 223,365, 220,348, 217,329, 211,315, 208,300, 203,287, 203,277, 204,260, 205,244, 103,244\",\n            accesskey: \"2\",\n            href: \"javascript:void(0)\",\n            click: function () { _selectBodyPart(SymptomsLocations.Hips); }\n        });\n\n        var area4 = jQuery(\"<area/>\", {\n            shape: \"poly\",\n            coords: \"91,386, 94,437, 101,489, 109,532, 105,554, 99,577, 98,595, 102,621, 112,664, 116,704, 105,729, 96,742, 94,752, 104,760, 121,764, 133,762, 139,755, 143,747, 143,735, 138,714, 140,662, 144,626, 146,596, 141,559, 140,545, 142,513, 145,482, 148,447, 150,410, 147,397, 151,392, 157,396, 159,423, 160,463, 163,505, 167,537, 165,565, 159,594, 162,625, 166,652, 168,687, 166,714, 163,735, 162,752, 169,761, 185,765, 204,760, 213,747, 211,738, 205,732, 195,715, 191,695, 192,674, 197,653, 203,630, 209,607, 211,585, 207,568, 202,556, 200,540, 199,523, 205,501, 211,475, 215,456, 221,426, 221,405, 222,386, 94,386\",\n            accesskey: \"3\",\n            href: \"javascript:void(0)\",\n            click: function () { _selectBodyPart(SymptomsLocations.Legs); }\n        });\n\n        var area5 = jQuery(\"<area/>\", {\n            shape: \"poly\",\n            coords: \"106,141, 84,141, 68,148, 60,163, 56,184, 53,227, 49,264, 47,289, 38,316, 28,344, 13,361, 3,368, 3,374, 13,375, 7,390, 8,400, 15,407, 33,403, 41,388, 46,374, 46,361, 53,344, 64,323, 74,298, 80,275, 83,247, 85,217, 93,194, 106,141, 205,141, 224,141, 234,148, 251,169, 256,189, 259,217, 263,245, 269,267, 276,293, 279,326, 283,346, 295,359, 304,370, 301,375, 293,374, 300,386, 302,396, 296,404, 287,407, 276,404, 270,393, 266,380, 262,364, 263,351, 258,335, 249,315, 244,294, 237,267, 233,241, 226,213, 200,141\",\n            accesskey: \"4\",\n            href: \"javascript:void(0)\",\n            click: function () { _selectBodyPart(SymptomsLocations.Arms); }\n        });\n\n        womanMap.append(area1);\n        womanMap.append(area2);\n        womanMap.append(area3);\n        womanMap.append(area4);\n        womanMap.append(area5);\n\n        _plugin.find(\".avatar-container\").append(womanMap);\n    }\n\n    function _createChildMap() {\n        var childMap = jQuery(\"<map/>\", {\n            id: \"childMap\",\n            name: \"childMap\"\n        });\n\n        var area1 = jQuery(\"<area/>\", {\n            shape: \"poly\",\n            coords: \"125,1, 89,12, 78,32, 75,63, 79,92, 91,115, 101,128, 96,152, 160,152, 154,129, 169,111, 177,91, 182,61, 180,33, 168,13, 147,4, 128,2\",\n            accesskey: \"0\",\n            href: \"javascript:void(0)\",\n            click: function () { _selectBodyPart(SymptomsLocations.Head); }\n        });\n\n        var area2 = jQuery(\"<area/>\", {\n            shape: \"poly\",\n            coords: \"94,147, 92,147, 70,153, 56,158, 56,263, 59,286, 62,307, 196,307, 204,266, 199,161, 163,152, 94,152\",\n            accesskey: \"1\",\n            href: \"javascript:void(0)\",\n            click: function () { _selectBodyPart(SymptomsLocations.Chest); }\n        });\n\n        var area3 = jQuery(\"<area/>\", {\n            shape: \"poly\",\n            coords: \"60,307, 59,343, 58,376, 61,439, 192,439, 197,399, 199,362, 197,329, 197,307, 66,307\",\n            accesskey: \"2\",\n            href: \"javascript:void(0)\",\n            click: function () { _selectBodyPart(SymptomsLocations.Hips); }\n        });\n\n        var area4 = jQuery(\"<area/>\", {\n            shape: \"poly\",\n            coords: \"61,439, 61,474, 66,531, 65,569, 69,613, 74,651, 78,693, 75,716, 56,746, 57,756, 73,762, 89,764, 102,758, 111,744, 114,730, 113,720, 110,706, 113,676, 117,643, 121,598, 119,568, 121,539, 123,511, 125,475, 127,440, 131,511, 132,559, 133,597, 135,627, 139,660, 147,701, 144,733, 150,751, 164,761, 183,764, 202,757, 202,749, 195,737, 184,714, 179,688, 184,651, 188,610, 189,581, 187,556, 186,526, 189,489, 191,458, 193,439, 64,439\",\n            accesskey: \"3\",\n            href: \"javascript:void(0)\",\n            click: function () { _selectBodyPart(SymptomsLocations.Legs); }\n        });\n\n        var area5 = jQuery(\"<area/>\", {\n            shape: \"poly\",\n            coords: \"56,158, 34,175, 27,193, 21,216, 18,246, 16,276, 11,300, 6,329, 6,356, 7,389, 9,415, 10,437, 12,450, 18,459, 34,465, 43,463, 46,445, 47,432, 46,419, 40,407, 38,387, 41,356, 46,323, 46,305, 48,281, 56,264, 56,158, 199,162, 218,173, 229,196, 236,235, 243,290, 252,324, 251,349, 249,382, 252,412, 250,448, 234,464, 221,465, 214,449, 212,432, 216,415, 221,401, 223,380, 217,348, 215,321, 211,299, 204,273, 199,162\",\n            accesskey: \"4\",\n            href: \"javascript:void(0)\",\n            click: function () { _selectBodyPart(SymptomsLocations.Arms); }\n        });\n\n        childMap.append(area1);\n        childMap.append(area2);\n        childMap.append(area3);\n        childMap.append(area4);\n        childMap.append(area5);\n\n        _plugin.find(\".avatar-container\").append(childMap);\n    }\n\n    function _createStatusChangeLink(selectedStatus) {\n        var imgSrc;\n        switch (selectedStatus) {\n            // case selectorStatus.Man:\n            //     imgSrc = pathToImages + \"/male_small.png\";\n            //     break;\n            case selectorStatus.Woman:\n                imgSrc = pathToImages + \"/female_small.png\";\n                break;\n            // case selectorStatus.Boy:\n            //     imgSrc = pathToImages + \"/child_small.png\";\n            //     break;\n            case selectorStatus.Girl:\n                imgSrc = pathToImages + \"/child_small.png\";\n                break;\n        }\n\n        var statusLink = jQuery(\"<a/>\", {\n            \"class\": \"status-change-link\",\n            href: \"javascript:void(0)\",\n            click: function () { _setSelectorStatus(selectedStatus); }\n        });\n\n        var statusLinkImg = jQuery(\"<img/>\", {\n            src: imgSrc\n        });\n\n        statusLink.append(statusLinkImg);\n\n        return statusLink;\n    }\n\n    function _createSkinLink() {\n        var skinLink = jQuery(\"<a/>\", {\n            \"class\": \"skin-link\",\n            href: \"javascript:void(0)\",\n            //text: skinText,\n            click: function () { _selectBodyPart(SymptomsLocations.Skin); }\n        });\n\n        var skin_Text = jQuery(\"<span/>\", {\n            text: skinText\n        });\n\n        var skinImage = jQuery(\"<img/>\", {\n            id: \"skinImg\",\n            \"class\": \"skin-image\",\n            src: pathToImages + \"/skin-joint-general-bw-hellgrau-small.png\",\n            alt: skinText\n        });\n\n        skinLink.hover(\n        function () {\n            $(this).find(\".skin-image\").attr(\"src\", pathToImages + \"/skin-joint-general-bw-hellgrau-smallhover.png\");\n        },\n        function () {\n            $(this).find(\".skin-image\").attr(\"src\", pathToImages + \"/skin-joint-general-bw-hellgrau-small.png\");\n        });\n\n        skinLink.append(skinImage);\n        skinLink.append(skin_Text);\n\n        _plugin.find(\".avatar-container\").append(skinLink);\n    }\n\n    function _createChildAvatarSmallMale() {\n        var male = jQuery(\"<a/>\", {\n            id: \"btnMale\",\n            href: \"javascript:void(0)\",\n            \"class\": \"child-gender-selector\"\n        });\n\n        var maleIcon = jQuery(\"<i/>\", {\n            \"class\": \"fa fa-male\"\n        });\n\n        var checkIconChecked = jQuery(\"<i/>\", {\n            \"class\": \"fa fa-check-square-o\"\n        });\n\n        var checkIconUnchecked = jQuery(\"<i/>\", {\n            \"class\": \"fa fa-square-o\"\n        });\n\n        if (_selectedGender == Gender.Male)\n            male.append(checkIconChecked);\n        else\n            male.append(checkIconUnchecked);\n\n        male.append(maleIcon);\n\n        male.bind('click', function () {\n            $(this).addClass(\"disabled\");\n            $(this).find(\".fa-square-o\").addClass(\"fa-check-square-o\");\n            $(this).find(\".fa-square-o\").removeClass(\"fa-square-o\");\n            $(\"#btnFemale\").find(\".fa-check-square-o\").addClass(\"fa-square-o\");\n            $(\"#btnFemale\").find(\".fa-check-square-o\").removeClass(\"fa-check-square-o\")\n            $(\"#btnFemale\").removeClass(\"disabled\");\n            _setSelectedGender(Gender.Male);\n            _setSelectorStatus(selectorStatus.Boy);\n        });\n\n        return male;\n    }\n\n    function _createChildAvatarSmallFemale() {\n        var female = jQuery(\"<a/>\", {\n            id: \"btnFemale\",\n            href: \"javascript:void(0)\",\n            \"class\": \"child-gender-selector\"\n        });\n\n        var femaleIcon = jQuery(\"<i/>\", {\n            \"class\": \"fa fa-female\"\n        });\n\n        var checkIconChecked = jQuery(\"<i/>\", {\n            \"class\": \"fa fa-check-square-o\"\n        });\n\n        var checkIconUnchecked = jQuery(\"<i/>\", {\n            \"class\": \"fa fa-square-o\"\n        });\n\n        if (_selectedGender == Gender.Female)\n            female.append(checkIconChecked);\n        else\n            female.append(checkIconUnchecked);\n\n        female.append(femaleIcon);\n\n        female.bind('click', function () {\n            $(this).addClass(\"disabled\");\n            $(this).find(\".fa-square-o\").addClass(\"fa-check-square-o\");\n            $(this).find(\".fa-square-o\").removeClass(\"fa-square-o\");\n            $(\"#btnMale\").find(\".fa-check-square-o\").addClass(\"fa-square-o\");\n            $(\"#btnMale\").find(\".fa-check-square-o\").removeClass(\"fa-check-square-o\");\n            $(\"#btnMale\").removeClass(\"disabled\");\n            _setSelectedGender(Gender.Female);\n            _setSelectorStatus(selectorStatus.Girl);\n        });\n\n        return female;\n    }\n\n    function _createChildGenderSelector() {\n        var childGenderSelectorContainer = jQuery(\"<div/>\", {\n            \"class\": \"child-gender-selector-container\"\n        });\n\n        var childAvatarSmallMale = _createChildAvatarSmallMale();\n        var childAvatarSmallFemale = _createChildAvatarSmallFemale();\n\n        childGenderSelectorContainer.append(childAvatarSmallMale);\n        childGenderSelectorContainer.append(childAvatarSmallFemale);\n\n        _plugin.find(\".status-container\").append(childGenderSelectorContainer);\n    }\n\n    function _removeChildGenderSelector() {\n        _plugin.find(\".child-gender-selector-container\").remove();\n    }\n\n    function _createSelectorHeader() {\n        SetTranslationResources();\n        var header = jQuery(\"<div/>\", {\n        });\n\n        var searchField = _createSearchField();\n        this._yearSelector = _createYearsField();\n\n        var yearContainer = jQuery(\"<div/>\", {\n            \"class\": \"year-container\"\n        });\n\n        var yearIcon = jQuery(\"<i/>\", {\n            \"class\": \"fa fa-calendar\"\n        });\n\n        var yearText = jQuery(\"<span/>\", {\n            \"class\": \"year-text\",\n            \"text\": bornOnText\n        });\n\n        yearContainer.append(yearIcon);\n        yearContainer.append(yearText);\n        yearContainer.append(this._yearSelector);\n\n        header.append(searchField);\n        header.append(yearContainer);\n\n        _plugin.append(header);\n    }\n\n    function _createSearchField() {\n        var searchField = jQuery(\"<input/>\", {\n            \"id\": \"txtSearchSymptoms\",\n            \"class\": \"typeahead\",\n            \"placeholder\": typeYourSymptomsText\n        });\n        var searchContainer = jQuery(\"<div/>\", {\n            \"id\": \"prefetch\"\n        });\n\n        searchContainer.append(searchField);\n        return searchContainer;\n    }\n\n    function _createYearsField() {\n        var ddlYears = jQuery(\"<select/>\", {\n            \"id\": \"ddlYears\"\n        });\n\n        var d = new Date();\n        var n = parseInt(d.getFullYear());\n\n        for (var i = n; i > (n - 100) ; i--) {\n            var opt = jQuery(\"<option/>\", {\n                \"text\": i,\n                \"value\": i\n            });\n            ddlYears.append(opt);\n        }\n\n        ddlYears.bind('change', function () {\n            _handleSelectedYearChanged($(this).val());\n        });\n\n        ddlYears.val(_selectedYear);\n\n        return ddlYears;\n    }\n\n    function _handleSelectedYearChanged(selectedYear) {\n        _setSelectedYear(selectedYear);\n\n        if (parseInt(selectedYear) < _edgeYears) {\n            if (_selectedSelectorStatus == selectorStatus.Boy || _selectedSelectorStatus == selectorStatus.Girl) {\n                if (_selectedGender == Gender.Male)\n                    _setSelectorStatus(selectorStatus.Man);\n                else\n                    _setSelectorStatus(selectorStatus.Woman);\n            }\n            else {\n                _makeDiagnosis();\n            }\n        }\n        else {\n            if (_selectedSelectorStatus == selectorStatus.Man || _selectedSelectorStatus == selectorStatus.Woman) {\n                if (_selectedGender == Gender.Male)\n                    _setSelectorStatus(selectorStatus.Boy);\n                else\n                    _setSelectorStatus(selectorStatus.Girl);\n            }\n            else {\n                _setSelectorStatus(_selectedSelectorStatus);\n            }\n        }\n    }\n\n    function _highlightBodyParts() {\n        var currentAvatar = _getAvatarByStatus(_selectedSelectorStatus);\n        currentAvatar.mapster({\n            fillColor: 'acacac',\n            fillOpacity: 0.3,\n            //isSelectable: true,\n            clickNavigate: true,\n            scaleMap: true,\n            //singleSelect: true,\n            mapKey: 'accesskey' //  (see http://www.outsharked.com/imagemapster/default.aspx?docs.html)\n            //stroke: true,\n            //strokeColor: \"585858\",\n            //strokeOpacity: 0.8,\n            //strokeWidth: 1\n        });\n        _selectBodyPart(_selectedBodyPart);\n        _resizeSelector(currentAvatar);\n    }\n\n    function _resizeSelector(avatar) {\n        var avatarHeight = _plugin.find(\".avatar-container\").height();\n        if (_selectedSelectorStatus == selectorStatus.Boy || _selectedSelectorStatus == selectorStatus.Girl) {\n            avatarHeight = avatarHeight * 0.7;\n        }\n        avatar.mapster('resize', 0, avatarHeight, 100);\n    }\n\n    function _selectBodyPart(location) {\n        if (location === \"\")\n            return;\n\n        var currentAvatar = _getAvatarByStatus(_selectedSelectorStatus);\n        _setSelectedBodyPart(location);\n\n        // use try/catch to hide image mapster child resizing problem\n        try {\n            $('area').mapster('deselect');\n        }\n        catch (e) { }\n\n        switch (location) {\n            case SymptomsLocations.Head:\n                currentAvatar.mapster('set', true, \"0\");\n                break;\n            case SymptomsLocations.Chest:\n                currentAvatar.mapster('set', true, \"1\");\n                break;\n            case SymptomsLocations.Arms:\n                currentAvatar.mapster('set', true, \"4\");\n                break;\n            case SymptomsLocations.Legs:\n                currentAvatar.mapster('set', true, \"3\");\n                break;\n            case SymptomsLocations.Hips:\n                currentAvatar.mapster('set', true, \"2\");\n                break;\n            case SymptomsLocations.Skin:\n                currentAvatar.mapster('set', true, \"0,1,2,3,4\");\n                break;\n        }\n\n        if (redirectUrl !== \"\") {\n            setTimeout(function () { window.location = redirectUrl; }, 500);\n            return;\n        }\n\n        if (location !== \"\")\n            _fillBodySublocationList(location);\n    }\n\n    function _fillBodySublocationList(location) {\n        var options = new Object();\n        options.LocationId = location;\n        options.SelectorStatus = _selectedSelectorStatus;\n        options.Gender = _selectedGender;\n        options.YearOfBirth = _selectedYear;\n        _symptomList.symptomList(\"LoadBodySublocations\", options);\n    }\n    function _showMainAvatar(selectedStatus) {\n        var avatar = _getAvatarByStatus(selectedStatus);\n        avatar.show();\n        _highlightBodyParts();\n    }\n\n    function _hideMainAvatar(selectedStatus) {\n        var avatar = _getAvatarByStatus(selectedStatus);\n        avatar.mapster('unbind');\n        avatar.hide();\n    }\n\n    function _getSmallAvatarByStatus(selectedStatus) {\n        switch (selectedStatus) {\n            case selectorStatus.Man:\n                return this._manAvatarSmall;\n            case selectorStatus.Woman:\n                return this._womanAvatarSmall;\n            case selectorStatus.Boy:\n                return this._childAvatarSmall;\n            case selectorStatus.Girl:\n                return this._childAvatarSmall;\n        }\n    }\n\n    function _getAvatarByStatus(selectedStatus) {\n        switch (selectedStatus) {\n            case selectorStatus.Man:\n                return this._manAvatar;\n            case selectorStatus.Woman:\n                return this._womanAvatar;\n            case selectorStatus.Boy:\n                return this._childAvatar;\n            case selectorStatus.Girl:\n                return this._childAvatar;\n        }\n    }\n\n    function _setSelectedBodyPart(selectedBodyPart) {\n        _selectedBodyPart = selectedBodyPart;\n        setCookie(\"selectedBodyPart\", selectedBodyPart, 1);\n    }\n\n    function _setSelectorStatus(selectedStatus) {\n        setCookie(\"selectedSelectorStatus\", selectedStatus, 1);\n        _hideMainAvatar(_selectedSelectorStatus);\n        _clearSelectedStatusMark(_selectedSelectorStatus);\n        _selectedSelectorStatus = selectedStatus;\n        _showMainAvatar(_selectedSelectorStatus);\n        _markSelectedStatus(selectedStatus);\n\n        switch (selectedStatus) {\n            case (selectorStatus.Man):\n                _setSelectedGender(Gender.Male);\n                _removeChildGenderSelector();\n                if (_edgeYears <= parseInt(this._yearSelector.val()))\n                    _setSelectedYear(_defaultAdultYear);\n                break;\n            case (selectorStatus.Woman):\n                _setSelectedGender(Gender.Female);\n                _removeChildGenderSelector();\n                if (_edgeYears <= parseInt(this._yearSelector.val()))\n                    _setSelectedYear(_defaultAdultYear);\n                break;\n            case (selectorStatus.Boy):\n                _removeChildGenderSelector();\n                _createChildGenderSelector();\n                if (_edgeYears > parseInt(this._yearSelector.val()))\n                    _setSelectedYear(_defaultChildYear);\n                break;\n            case (selectorStatus.Girl):\n                _removeChildGenderSelector();\n                _createChildGenderSelector();\n                if (_edgeYears > parseInt(this._yearSelector.val()))\n                    _setSelectedYear(_defaultChildYear);\n                break;\n        }\n        _ajaxGetSymptoms(false);\n        _makeDiagnosis();\n    }\n\n    function _setSelectedGender(selectedGender) {\n        setCookie(\"selectedGender\", selectedGender, 1);\n        _selectedGender = selectedGender;\n    }\n\n    function _setSelectedYear(selectedYear) {\n        setCookie(\"selectedYear\", selectedYear, 1);\n        this._yearSelector.val(selectedYear);\n        _selectedYear = selectedYear;\n    }\n\n    function _markSelectedStatus(selectedStatus) {\n        var selectedSmallAvatar = _getSmallAvatarByStatus(selectedStatus);\n        selectedSmallAvatar.css(\"border\", \"2px solid #\" + _statusLinkBorderColor);\n    }\n\n    function _clearSelectedStatusMark(selectedStatus) {\n        var selectedSmallAvatar = _getSmallAvatarByStatus(selectedStatus);\n        selectedSmallAvatar.css(\"border\", \"none\");\n    }\n\n    function _makeDiagnosis() {\n        if (mode == \"booking\")\n            return;\n\n        if (isDisclaimerChecked()) {\n            var options = new Object();\n\n            options.Symptoms = _symptomList.symptomList(\"GetSelectedSymptoms\");\n            options.Gender = _selectedGender;\n            options.YearOfBirth = _selectedYear;\n            if (mode == \"diagnosis\")\n                $(\"#\" + _diagnosisListId).diagnosis(\"GetDiagnosis\", options);\n\n            if (mode == \"specialisations\")\n                $(\"#\" + _diagnosisListId).specialisations(\"GetSpecialisations\", options);\n\n            _symptomList.symptomList(\"LoadProposedSymptoms\", options);\n        }\n\n    }\n\n    var substringMatcher = function (strs) {\n        return function findMatches(q, cb) {\n            var matches, substrRegex;\n\n            // an array that will be populated with substring matches\n            matches = [];\n\n            // regex used to determine if a string contains the substring `q`\n            substrRegex = new RegExp(q, 'i');\n\n            // iterate through the pool of strings and for any string that\n            // contains the substring `q`, add it to the `matches` array\n            $.each(strs, function (i, str) {\n                if (substrRegex.test(str.Name)) {\n                    // the typeahead jQuery plugin expects suggestions to a\n                    // JavaScript object, refer to typeahead docs for more info\n                    matches.push({ value: str.Name });\n                }\n            });\n\n            cb(matches);\n        };\n    };\n\n    var fillResults = function (symptoms, initTypeAhead) {\n        var _symptoms = new Array();\n        $.each(symptoms, function () {\n            if (this.Name !== \"\" && this.Name !== \" \")\n                _symptoms.push(this);\n        });\n\n        var options = new Object();\n        options.LocationId = location;\n        options.SelectorStatus = _selectedSelectorStatus;\n        options.Gender = _selectedGender;\n        options.YearOfBirth = _selectedYear;\n        options.ValidSymptoms = _symptoms;\n\n        _symptomList.symptomList(\"SetValidSymptoms\", options);\n\n        if (initTypeAhead)\n            _initTypeAhead();\n        else {\n            $(\"#prefetch .typeahead\").typeahead(\"destroy\");\n            _initTypeAhead();\n        }\n\n    };\n\n    function _initTypeAhead() {\n        $('#prefetch .typeahead').typeahead({\n            hint: true,\n            highlight: true,\n            minLength: 2\n        },\n        {\n            name: '_symptoms',\n            displayKey: 'value',\n\n            source: substringMatcher(_symptomList.symptomList(\"GetValidSymptoms\"))\n        }\n        ).bind(\"typeahead:selected\", function (obj, datum, name) {\n            var result = $.grep(_symptomList.symptomList(\"GetValidSymptoms\"), function (e) { return e.Name == datum.value; });\n            var options = new Object();\n            options.ID = result[0].ID;\n            options.Name = result[0].Name;\n            _symptomList.symptomList(\"SelectSymptom\", options);\n        });\n    }\n\n\n    function _setResourcesCallback(resources) {\n\n        if (resources.length > 0) {\n            var skinText = resources[0].Key;//(\"btnContactForm\");\n        }\n    }\n\n    function _setSpecificResourcesCallback(resources) {\n\n        if (resources.length > 0) {\n\n            $.each(resources, function () {\n                resObj[this.Key] = this.Value;\n\n            });\n            SetTranslationResources();\n            _setUpSelector();\n            $(\"#selectSymptomsTitle\").text(selectSymptomsText);\n            $(\"#selectedSymptomsTitle\").text(selectedSymptomsText);\n            $(\"#possibleDiseasesTitle\").text(possibleDiseasesText);\n        }\n    }\n\n    function SetTranslationResources() {\n\n        if (resObj != null) {\n            disclaimerText = resObj.litTermsOfUsePolicyPrivacy;\n            litTermsOfUse = resObj.litTermsOfUse;\n            litPrivacyPolicy = resObj.litPrivacyPolicy;\n            disclaimerNotAcceptedText = resObj.litDisclaimerNotChecked;\n            noSelectedSymptomsText = resObj[\"litAddAdditionalComplaints\"];\n            diagnosisMessage = resObj[\"litEmergencyInfo\"];\n            noDiagnosisMessage = resObj[\"litEmptyDiagnosisDataTemplate\"];\n            proposedSymptomsText = resObj[\"litSuggestedSymptoms\"];\n            symptomListMessage = resObj[\"litCarouselItem4\"];\n            skinText = resObj[\"genAvatarText\"];\n            bornOnText = resObj.litYears;\n            typeYourSymptomsText = resObj.litSearchSymptoms;\n            selectSymptomsText = resObj.genSelectSymptoms;\n            selectedSymptomsText = resObj.genSelectedSymptoms;\n            possibleDiseasesText = resObj.genPossibleDiseases;\n\n            makeDiagnosisText = resObj.btnGenerateDiagnose;\n            litProfName = resObj.txtProfessionalName;\n            litShortDescription = resObj.genShortDescription;\n            litDescription = resObj.genDescription;\n            litOccurrence = resObj.genOccurrence;\n            litSymptom = resObj.genSymptom;\n            litFollow = resObj.genFollow1;\n            litTreatment = resObj.genTreatment;\n            litPossibleSymptoms = resObj.litPossibleSymptoms;\n        }\n    }\n\n    //////////////////end private functions//////////////////////////////////////////\n\n})(jQuery);\n\n/////////////Symptom selector plugin end//////////////////////////////////\n//////////////////////////////////////////////////////////////////////////\n\n/////////////Symptom list plugin start/////////////////////////\n//////////////////////////////////////////////////////////////////////\n(function ($) {\n\n    var _plugin;\n    var _symptomList;\n    var _locationName;\n    var _selectorStatus;\n    var _locations = new Object();\n    var _validSymptoms = new Array();\n\n    var _selectedList;\n    var _selectedListId = \"selectedSymptomList\";\n    var _diagnosisListId = \"diagnosisList\";\n    var _proposedList;\n    var _proposedListHeader;\n    var _symptomListMessage;\n    var _loader;\n    var _header;\n    var _emptySelectedSymptomMessage;\n    var _redFlagMessage;\n\n    var _avatarOptions;\n\n    var methods = {\n\n        init: function (options) {\n            return this.each(function () {\n                _plugin = $(this);\n                _initSymptomList();\n                _avatarOptions = options;\n\n                if (redirectUrl === \"\") {\n                    if (mode == \"diagnosis\")\n                        $(\"#\" + _diagnosisListId).diagnosis();\n\n                    if (mode == \"specialisations\")\n                        $(\"#\" + _diagnosisListId).specialisations();\n\n                    var symptoms = _getSelectedSymptoms();\n                    if (symptoms.length !== 0) {\n                        _showTerms();\n                        _makeDiagnosis();\n                    }\n                }\n            });\n        },\n        LoadBodyLocations: function (options) {\n            _ajaxLoadBodyLocations(options.LocationId);\n        },\n        LoadBodySublocations: function (options) {\n            _avatarOptions = options;\n            _loadBodySublocation(options.LocationId, options.SelectorStatus);\n            _header.text(_locations[options.LocationId]);\n        },\n        GetSelectedSymptoms: function (options) {\n            return _getSelectedSymptoms();\n        },\n        SelectSymptom: function (options) {\n            _selectSymptom(options);\n        },\n        SetValidSymptoms: function (options) {\n            _validSymptoms = options.ValidSymptoms;\n            _avatarOptions.LocationId = options.LocationId;\n            _avatarOptions.SelectorStatus = options.SelectorStatus;\n            _avatarOptions.Gender = options.Gender;\n            _avatarOptions.YearOfBirth = options.YearOfBirth;\n\n            var synonyms = new Array();\n            $.each(_validSymptoms, function () {\n                if (this.Synonyms != null && typeof (this.Synonyms) !== \"undefined\" && this.Synonyms.length > 0) {\n                    var currentId = this.ID;\n                    var name = this.Name;\n                    var hasRedFlag = this.HasRedFlag;\n                    $.each(this.Synonyms, function () {\n                        var syn = new Object();\n                        syn.ID = currentId;\n                        syn.Name = this + \"(\" + name + \")\";\n                        syn.HasRedFlag = hasRedFlag;\n                        syn.IsSynonym = true;\n                        syn.HealthSymptomLocationIDs = new Array();\n                        synonyms.push(syn);\n                    });\n                }\n            });\n\n            $.each(synonyms, function () {\n                _validSymptoms.push(this);\n            });\n            var symptoms = _getSelectedSymptoms();\n            if (symptoms.length !== 0) {\n                _addSelectedSymptoms(symptoms);\n            }\n        },\n        GetValidSymptoms: function (options) {\n            return _validSymptoms;\n        },\n        LoadProposedSymptoms: function (options) {\n            _clearProposedSymptom();\n            _ajaxLoadProposedSymptoms(options.Symptoms, options.Gender, options.YearOfBirth);\n        },\n        Unbind: function (options) {\n            _selectedList.unbind('click');\n            _selectedList.empty();\n            _plugin.unbind('click');\n            _plugin.empty();\n        }\n    };\n\n    $.fn.symptomList = function (method) {\n\n        if (methods[method]) {\n            return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));\n        } else if (typeof method === 'object' || !method) {\n            return methods.init.apply(this, arguments);\n        } else {\n            $.error('Method ' + method + ' does not exist on jQuery.symptomList');\n        }\n\n    };\n\n    //////////////////ajax calls/////////////////////////////////////////////////////\n    function _ajaxLoadBodyLocations(selectedLocationId) {\n        $.ajax({\n            url: pathToWebservice + \"/body/locations\",\n            type: \"GET\",\n            data:\n                {\n                    token: token,\n                    format: \"json\",\n                    language: language\n                },\n            contentType: \"application/json; charset=utf-8\",\n            cache: false,\n            dataType: \"jsonp\",\n            jsonpCallback: \"_addLocationsCallback\",\n            success: function (responseData) { _addLocationsCallback(responseData, selectedLocationId); },\n            beforeSend: function (jqXHR, settings) {\n            },\n            error: function (xhr, ajaxOptions, thrownError) {\n                if (window.console)\n                    console.log(xhr.responseText);\n            },\n            complete: function () {\n            }\n        });\n    }\n\n    function _ajaxLoadBodySublocations(locationId) {\n        $.ajax({\n            url: pathToWebservice + \"/body/locations/\" + locationId,\n            type: \"GET\",\n            data:\n                {\n                    token: token,\n                    format: \"json\",\n                    language: language\n                },\n            contentType: \"application/json; charset=utf-8\",\n            cache: false,\n            dataType: \"jsonp\",\n            jsonpCallback: \"_addSublocationsCallback\",\n            success: function (responseData) { _addSublocationsCallback(responseData, locationId); },\n            beforeSend: function (jqXHR, settings) {\n                _loader.show();\n            },\n            error: function (xhr, ajaxOptions, thrownError) {\n                if (window.console)\n                    console.log(xhr.responseText);\n            },\n            complete: function () {\n                _loader.hide();\n            }\n        });\n    }\n\n    function _ajaxLoadProposedSymptoms(symptoms, gender, year_of_birth) {\n        $.ajax({\n            url: pathToWebservice + \"/symptoms/proposed\",\n            type: \"GET\",\n            async: true,\n            data:\n                {\n                    token: token,\n                    format: \"json\",\n                    language: language,\n                    symptoms: JSON.stringify(symptoms),\n                    gender: gender,\n                    year_of_birth: year_of_birth,\n                    platform: currentPlatform\n                },\n            contentType: \"application/json; charset=utf-8\",\n            cache: false,\n            dataType: \"jsonp\",\n            jsonpCallback: \"_addProposedSymptomsCallback\",\n            success: function (responseData) { _addProposedSymptomsCallback(responseData); },\n            beforeSend: function (jqXHR, settings) {\n                $('#loader').show();\n            },\n            error: function (xhr, ajaxOptions, thrownError) {\n                if (window.console)\n                    console.log(xhr.responseText);\n            },\n            complete: function () {\n                $('#loader').hide();\n            }\n        });\n    }\n\n    function _ajaxGetRedFlagText(symptomId) {\n        $.ajax({\n            url: pathToWebservice + \"/redflag\",\n            type: \"GET\",\n            async: true,\n            data:\n                {\n                    token: token,\n                    format: \"json\",\n                    language: language,\n                    symptomId: symptomId\n                },\n            contentType: \"application/json; charset=utf-8\",\n            cache: false,\n            dataType: \"jsonp\",\n            jsonpCallback: \"_getRedFlagCallback\",\n            success: function (responseData) { _getRedFlagCallback(responseData); },\n            beforeSend: function (jqXHR, settings) {\n                $('#loader').show();\n            },\n            error: function (xhr, ajaxOptions, thrownError) {\n                if (window.console)\n                    console.log(xhr.responseText);\n            },\n            complete: function () {\n                $('#loader').hide();\n            }\n        });\n    }\n\n    //////////////////end ajax calls/////////////////////////////////////////////////////\n\n    //////////////////private functions//////////////////////////////////////////////\n\n    function _initSymptomList() {\n        _symptomList = jQuery(\"<ul/>\", { \"class\": \"location_list\" });\n\n        _proposedList = jQuery(\"<ul/>\", { \"class\": \"proposed_list\" });\n        _proposedListHeader = jQuery(\"<h4/>\", { \"text\": proposedSymptomsText, \"class\": \"header proposed_list_header\" });\n        _proposedListHeader.hide();\n\n        _header = jQuery(\"<h4/>\", { \"class\": \"header symptom_list_header\" });\n        _header.hide();\n\n        _symptomListMessage = jQuery(\"<span/>\", { \"class\": \"message info\", \"text\": symptomListMessage });\n\n        _loader = jQuery(\"<div/>\", { \"class\": \"loader\" });\n        _loader.hide();\n\n        _plugin.append(_header);\n        _plugin.append(_symptomListMessage);\n        _plugin.append(_loader);\n\n        _selectedList = $(\"#\" + _selectedListId);\n        _selectedList.parent().addClass(\"box-inactive\");\n\n        _selectedList.append(jQuery(\"<ul/>\", { \"class\": \"selected_list\" }));\n        _selectedList.append(_createNoSymptomsSelectedMessage());\n        _selectedList.append(_createTermsElement());\n        _selectedList.append(_createTermsNotAcceptedMessage());\n        _selectedList.append(_proposedListHeader);\n        _selectedList.append(_proposedList);\n\n        _plugin.append(_symptomList);\n\n        _createRedFlagMessage();\n    }\n\n    function _createRedFlagMessage() {\n        _redFlagMessage = jQuery(\"<div/>\", { \"id\": \"redFlagMessage\", \"class\": \"info_page\" });\n        var redFlagMessageContainer = jQuery(\"<div/>\", { \"class\": \"container\" });\n        var message = jQuery(\"<span/>\");\n        _redFlagMessage.append(redFlagMessageContainer);\n\n        _redFlagMessage.hide();\n\n\n        $(\"body\").append(_redFlagMessage);\n\n        var content = jQuery(\"<div/>\", { \"id\": \"redFlagContent\", \"class\": \"warning\" });\n        content.append(message);\n        redFlagMessageContainer.append(content);\n\n        var btnClose = jQuery(\"<i/>\", { \"id\": \"btnCloseRedFlag\", \"class\": \"fa fa-times\" });\n        btnClose.bind('click', function () {\n            _redFlagMessage.find(\"#redFlagContent span\").empty();\n            _redFlagMessage.hide();\n        });\n\n        content.append(btnClose);\n    }\n\n    //load body sublocations\n    function _loadBodySublocation(locationId, selectorStatus) {\n        _header.show();\n\n        if (_selectorStatus != \"\" && _selectorStatus != selectorStatus)\n            _hideSymptoms(_selectorStatus);\n\n        _selectorStatus = selectorStatus;\n\n        _symptomList.find(\".sublocation\").hide();\n\n        if (!_isLoadedSublocations(locationId)) {\n            _symptomListMessage.hide();\n            _ajaxLoadBodySublocations(locationId);\n        }\n        else\n            _symptomList.find(\".location_\" + locationId).show();\n    }\n\n    //create body sublocations list elements\n    function _addBodySublocation(sublocation, locationId) {\n        if (_isValidSublocation(sublocation.ID) == false)\n            return;\n\n        var sublocationListElement = jQuery(\"<li/>\", {\n            \"id\": \"sublocation_\" + sublocation.ID,\n            \"class\": \"sublocation location_\" + locationId,\n            \"text\": sublocation.Name\n        });\n\n        //var sublocationListElementText = jQuery(\"<p/>\", {\n        //    \"text\": sublocation.Name\n        //});\n\n        sublocationListElement.bind('click', function () {\n            if (_isLoadedSymptoms(sublocation.ID))\n                _symptomList.find(\"#symptoms_\" + _selectorStatus + \"_\" + sublocation.ID).toggle();\n            else {\n                var symptoms = _getSublocationSymptoms(sublocation.ID)\n                _fillSublocations(symptoms, sublocation.ID);\n            }\n\n            $(this).toggleClass(\"open\");\n        });\n\n        //sublocationListElement.append(sublocationListElementText);\n        _symptomList.append(sublocationListElement);\n    }\n\n    //create body sublocations symptoms list elements\n    function _addBodySublocationSymptoms(symptom, sublocation, selectedSymptoms) {\n\n        var sublocationSymptomListElement = jQuery(\"<li/>\", {\n            \"class\": \"symptom-item symptom_\" + symptom.ID,\n            \"text\": symptom.Name,\n            \"symptom_id\": symptom.ID\n        });\n\n        var isSelected = $.grep(selectedSymptoms, function (e) { return parseInt(e) == parseInt(symptom.ID); });\n\n        if (isSelected.length != 0)\n            sublocationSymptomListElement.hide();\n\n        sublocationSymptomListElement.bind('click', function () {\n            _selectSymptom(symptom);\n        });\n\n        sublocation.append(sublocationSymptomListElement);\n    }\n\n    function _addLocationsCallback(locations, selectedLocationId) {\n        $.each(locations, function () {\n            _locations[this.ID] = this.Name;\n        });\n\n        if (selectedLocationId !== null && selectedLocationId !== \"\")\n            _header.text(_locations[selectedLocationId]);\n    }\n\n    function _addSublocationsCallback(sublocations, locationId) {\n        $.each(sublocations, function () {\n            _addBodySublocation(this, locationId);\n        });\n    }\n\n    function _fillSublocations(symptoms, sublocationId) {\n        var symptomListElement = jQuery(\"<ul/>\", {\n            \"id\": \"symptoms_\" + _selectorStatus + \"_\" + sublocationId,\n            \"class\": \"symptom_list symptoms_\" + _selectorStatus\n        });\n\n        _symptomList.find(\"#sublocation_\" + sublocationId).append(symptomListElement);\n\n        var selectedSymptoms = _getSelectedSymptoms();\n        $.each(symptoms, function () {\n            _addBodySublocationSymptoms(this, symptomListElement, selectedSymptoms);\n        });\n    }\n\n    function _getSublocationSymptoms(sublocationId) {\n        var symptoms = $.grep(_validSymptoms, function (e) {\n            var valid = false;\n            $.each(e.HealthSymptomLocationIDs, function () {\n\n                if (parseInt(this) == sublocationId)\n                    valid = true;\n            });\n            return valid;\n        });\n\n        symptoms.sort(_sortByName);\n\n        return symptoms;\n    }\n\n    function _getRedFlagCallback(redFlagText) {\n        if (redFlagText !== null && redFlagText !== \"\") {\n            _redFlagMessage.show();\n            _redFlagMessage.find(\"#redFlagContent span\").html(redFlagText);\n        }\n    }\n\n    function _addSelectedSymptoms(symptoms) {\n        $.each(symptoms, function () {\n            var symptomId = this;\n\n            var symptom = $.grep(_validSymptoms, function (e) { return parseInt(e.ID) == parseInt(symptomId); });\n            _createSelectedSymptomElement(symptom[0]);\n        });\n    }\n\n    function _isLoadedSymptoms(sublocationId) {\n        return _symptomList.find(\"#symptoms_\" + _selectorStatus + \"_\" + sublocationId).length > 0;\n    }\n\n    function _isLoadedSublocations(locationId) {\n        return _symptomList.find(\".location_\" + locationId).length > 0;\n    }\n\n    function _selectSymptom(symptom) {\n        var symptoms = _getSelectedSymptoms();\n        if (inArray(symptom.ID, symptoms) >= 0)// already exist\n            return;\n\n        var selected = getCookie(\"selectedSymptoms\");\n\n        if (selected != \"\")\n            selected += \",\" + symptom.ID;\n        else\n            selected = symptom.ID;\n\n        setCookie(\"selectedSymptoms\", selected, 1);\n\n        if (redirectUrl !== \"\") {\n            setTimeout(function () { window.location = redirectUrl; }, 500);\n            return;\n        }\n\n        _createSelectedSymptomElement(symptom);\n        _symptomList.find(\".symptom_\" + symptom.ID).hide();\n\n        _showTerms();\n        _ajaxGetRedFlagText(symptom.ID);\n        _makeDiagnosis();\n        _plugin.parent().removeClass(\"box-inactive\");\n    }\n\n    function _hideSymptoms(selectorStatus) {\n        _symptomList.find(\".symptoms_\" + _selectorStatus).hide();\n        _symptomList.find(\".symptoms_\" + _selectorStatus).parent().removeClass(\"open\");\n    }\n\n    function _isValidSublocation(sublocationId) {\n        var valid = false;\n        $.each(_validSymptoms, function () {\n            $.each(this.HealthSymptomLocationIDs, function () {\n                if (parseInt(this) == parseInt(sublocationId))\n                    valid = true;\n            });\n        });\n\n        return valid;\n    }\n\n    function _sortByName(a, b) {\n        var aName = a.Name.toLowerCase();\n        var bName = b.Name.toLowerCase();\n        return ((aName < bName) ? -1 : ((aName > bName) ? 1 : 0));\n    }\n\n    ////////////////////selected list////////////////////////////////////////////////\n\n    function _createSelectedSymptomElement(symptom) {\n        if (_selectedList.find(\"#selected_\" + symptom.ID).length > 0)\n            return;\n\n        var symptomElement = jQuery(\"<li/>\", {\n            \"text\": symptom.Name,\n            \"id\": \"selected_\" + symptom.ID,\n            \"class\": \"selected_symptom\",\n            \"symId\": symptom.ID\n        });\n\n        var btnRemove = jQuery(\"<i/>\", {\n            \"class\": \"fa fa-times\"\n        });\n\n        btnRemove.bind('click', function () {\n            _removeSymptom(symptom.ID);\n            $(this).parent().remove();\n        });\n\n        symptomElement.append(btnRemove);\n\n        _selectedList.find(\"ul.selected_list\").append(symptomElement);\n    }\n\n    function _getSelectedSymptoms() {\n        var symptoms = new Array();\n        var selected = getCookie(\"selectedSymptoms\");\n        if (selected !== \"\")\n            symptoms = selected.split(\",\");\n\n        return symptoms;\n    }\n\n    function _addGenerateDiagnosisButton() {\n        var btnGenerateDiagnosis = jQuery(\"<input/>\", {\n            \"value\": makeDiagnosisText,\n            \"id\": \"btnGenerateDiagnosis\",\n            \"type\": \"button\"\n        });\n\n        btnGenerateDiagnosis.bind('click', function () {\n            if (!isDisclaimerChecked()) {\n                _selectedList.find(\"#termsNotAcceptedMessage\").show();\n                return;\n            }\n            _makeDiagnosis();\n        });\n\n        return btnGenerateDiagnosis;\n    }\n\n    function _makeDiagnosis() {\n        _avatarOptions.Symptoms = _getSelectedSymptoms();\n\n        if (isDisclaimerChecked()) {\n            if (mode == \"diagnosis\")\n                $(\"#\" + _diagnosisListId).diagnosis(\"GetDiagnosis\", _avatarOptions);\n\n            if (mode == \"specialisations\")\n                $(\"#\" + _diagnosisListId).specialisations(\"GetSpecialisations\", _avatarOptions);\n        }\n\n        if (_avatarOptions.Symptoms.length > 0) {\n            _clearProposedSymptom();\n            _ajaxLoadProposedSymptoms(_avatarOptions.Symptoms, _avatarOptions.Gender, _avatarOptions.YearOfBirth);\n        }\n    }\n\n    function _removeSymptom(symptomId) {\n        var selected = _getSelectedSymptoms();\n\n        selected = jQuery.grep(selected, function (el) {\n            return (parseInt(el) !== symptomId);\n        });\n        setCookie(\"selectedSymptoms\", selected, 1);\n\n        if (selected.length == 0)\n            _hideTerms();\n\n        _symptomList.find(\".symptom_\" + symptomId).show();\n\n        _makeDiagnosis();\n    }\n\n    function _createNoSymptomsSelectedMessage() {\n        var p = jQuery(\"<span/>\", {\n            \"id\": \"noSymptomsSelectedMessage\",\n            \"class\": \"message info\",\n            \"text\": noSelectedSymptomsText\n        });\n\n        return p;\n    }\n\n    function _createTermsElement() {\n        if (mode == \"booking\") {\n            var p = jQuery(\"<p/>\");\n            return p;\n        }\n\n        var p = jQuery(\"<span/>\", {\n            id: \"terms\",\n            \"class\": \"message info\"\n        });\n        var checked = isDisclaimerChecked();\n        var chkBoxTerms = jQuery(\"<input/>\", {\n            \"type\": \"checkbox\",\n            \"checked\": checked,\n            \"class\": \"terms-checkbox\"\n        });\n\n        chkBoxTerms.bind('click', function () {\n            if (this.checked) {\n                setCookie(\"diagnosisDisclaimer\", \"true\", 0.1);\n                _selectedList.find(\"#termsNotAcceptedMessage\").hide();\n            }\n            else {\n                setCookie(\"diagnosisDisclaimer\", \"false\", -1);\n            }\n            isDisclaimerChecked();\n        });\n\n        // set privacy and terms links\n        //disclaimerText = disclaimerText.replace(litTermsOfUse, \"<a href='\" + termsUrl + \"' download='\" + termsUrl + \"' class='terms' target='_blank'>\" + litTermsOfUse + \"</a>\").replace(litPrivacyPolicy, \"<a href='\" + privacyUrl + \"' download='\" + privacyUrl + \"' class='terms' target='_blank'>\" + litPrivacyPolicy + \"</a>\");\n        var litTermsOfUseInText = '#' + litTermsOfUse.replace(/ /g, '').toLowerCase() + '#';\n        var litPrivacyPolicyInText = '#' + litPrivacyPolicy.replace(/ /g, '').toLowerCase() + '#';\n        disclaimerText = disclaimerText.replace(litTermsOfUseInText, \"<a href='\" + termsUrl + \"' class='terms' target='_blank' >\" + litTermsOfUse + \"</a>\").replace(litPrivacyPolicyInText, \"<a href='\" + privacyUrl + \"' class='terms' target='_blank' >\" + litPrivacyPolicy + \"</a>\");\n\n        var termsText = jQuery(\"<label/>\", {\n        });\n\n        termsText.html(disclaimerText);\n\n        var diagnosisButton = _addGenerateDiagnosisButton();\n\n        p.append(chkBoxTerms);\n        p.append(termsText);\n        p.append(\"<br/>\");\n        p.append(diagnosisButton);\n        p.hide();\n\n        return p;\n    }\n\n    function _createTermsNotAcceptedMessage() {\n        var p = jQuery(\"<span/>\", {\n            \"id\": \"termsNotAcceptedMessage\",\n            \"class\": \"message warning\",\n            \"text\": disclaimerNotAcceptedText\n        });\n\n        p.hide();\n        return p;\n    }\n\n    function _showTerms() {\n        _selectedList.find(\"#noSymptomsSelectedMessage\").hide();\n        _selectedList.find(\"#terms\").show();\n        _selectedList.parent().removeClass(\"box-inactive\");\n    }\n\n    function _hideTerms() {\n        _selectedList.find(\"#terms\").hide();\n        _selectedList.find(\"#noSymptomsSelectedMessage\").show();\n        _selectedList.parent().addClass(\"box-inactive\");\n    }\n\n    //////////////////proposed symptoms list/////////////////////////////////////////\n\n    function _addProposedSymptomsCallback(symptoms) {\n        if (symptoms.length > 0)\n            _proposedListHeader.show();\n        else\n            _proposedListHeader.hide();\n\n        $.each(symptoms, function () {\n            _addProposedSymptom(this);\n        });\n    }\n\n    function _addProposedSymptom(symptom) {\n        var proposedSymptomListElement = jQuery(\"<li/>\", {\n            \"text\": symptom.Name,\n            \"symptom_id\": symptom.ID\n        });\n\n        proposedSymptomListElement.bind('click', function () {\n            _selectSymptom(symptom);\n        });\n\n        _proposedList.append(proposedSymptomListElement);\n    }\n\n    function _clearProposedSymptom() {\n        _proposedList.find(\"li\").remove();\n    }\n\n    //////////////////end private functions//////////////////////////////////////////\n\n})(jQuery);\n\n/////////////symptom list plugin end/////////////////////////\n//////////////////////////////////////////////////////////////////////\n\n//////////////////////////////////////////////////////////////////////\n/////////////diagosis result plugin start///////////////////////\n\n(function ($) {\n\n    var _plugin;\n    var _diagnosisList;\n    var _diagnosisMessage;\n    var _loader;\n    var _infoPage;\n\n    var methods = {\n\n        init: function (options) {\n\n            return this.each(function () {\n                _plugin = $(this);\n                _plugin.parent().addClass(\"box-inactive\");\n                _initDiagnosisList();\n            });\n        },\n        GetDiagnosis: function (options) {\n            _clearDiagnosis();\n            _ajaxGetDiagnosis(options.Symptoms, options.Gender, options.YearOfBirth);\n        },\n        Unbind: function (options) {\n            _plugin.unbind('click');\n            _plugin.empty();\n        }\n    };\n\n    $.fn.diagnosis = function (method) {\n\n        if (methods[method]) {\n            return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));\n        } else if (typeof method === 'object' || !method) {\n            return methods.init.apply(this, arguments);\n        } else {\n            $.error('Method ' + method + ' does not exist on jQuery.diagnosis');\n        }\n\n    };\n\n    //////////////////private functions//////////////////////////////////////////\n    function _initDiagnosisList() {\n        _diagnosisList = jQuery(\"<ul/>\", { \"class\": \"diagnosis_list\" });\n\n        _diagnosisMessage = jQuery(\"<span/>\", { \"class\": \"message info\", \"text\": diagnosisMessage });\n        _diagnosisMessage.hide();\n        _loader = jQuery(\"<div/>\", { \"id\": \"diagnosisLoader\", \"class\": \"loader\" });\n        _loader.hide();\n        _plugin.append(_loader);\n        _plugin.append(_diagnosisList);\n        _plugin.append(_diagnosisMessage);\n\n        _createIssueInfoPage();\n    }\n\n    function _createIssueInfoPage() {\n        _infoPage = jQuery(\"<div/>\", { \"class\": \"info_page\" });\n        $(\"body\").append(_infoPage);\n\n        var content = jQuery(\"<div/>\", { \"class\": \"info_page_content\" });\n        _infoPage.append(content);\n\n        infoPageLoader = jQuery(\"<div/>\", { \"id\": \"infoPageLoader\", \"class\": \"loader\" });\n        _infoPage.append(infoPageLoader);\n\n        var btnClose = jQuery(\"<i/>\", { \"id\": \"btnCloseInfo\", \"class\": \"fa fa-times btn_info\" });\n        btnClose.bind('click', function () {\n            _infoPage.find(\".info_page_content\").empty();\n            _infoPage.hide();\n        });\n        var btnPrint = jQuery(\"<i/>\", { \"id\": \"btnPrintInfo\", \"class\": \"fa fa-print btn_info\" });\n        btnPrint.bind('click', function () {\n            _print(content);\n        });\n\n        _infoPage.append(btnClose);\n        _infoPage.append(btnPrint);\n    }\n\n    function _createDiagnosisElement(diagnosis) {\n        _diagnosisList.append(_createDiagnosisNameElement(diagnosis.Issue.ID, diagnosis.Issue.Name));\n        _diagnosisList.append(_createProbabilityElement(diagnosis.Issue.Accuracy));\n        _diagnosisList.append(_createSpecialisationElement(diagnosis.Specialisation));\n    }\n\n    function _addDiagnosisCallback(diagnosis) {\n        _diagnosisMessage.hide();\n        $.each(diagnosis, function () {\n            _createDiagnosisElement(this);\n        });\n        if (diagnosis.length > 0) {\n            _plugin.parent().removeClass(\"box-inactive\");\n            _setDiagnosisMessage(diagnosisMessage);\n        }\n        else {\n            _plugin.parent().addClass(\"box-inactive\");\n            _setDiagnosisMessage(noDiagnosisMessage);\n        }\n    }\n\n    function _addIssueInfoCallback(issueInfo) {\n        var htmlContent = \"<div>\";\n        htmlContent += \"<h1 class='margin-none' itemprop=\\\"name\\\">\" + issueInfo.Name + \"</h1>\";\n\n        var countSynonyms = 0;\n        if (issueInfo.Synonyms != null && issueInfo.Synonyms !== \"\") {\n            htmlContent += \"<h4>(\" + issueInfo.Synonyms + \")</h4>\";\n        }\n\n        if (issueInfo.ProfName != null && issueInfo.ProfName !== \"\") {\n            htmlContent += \"<h3 class='border-bottom'><small>\" + litProfName + \"  (<b itemprop=\\\"alternateName\\\">\" + issueInfo.ProfName + \"</b>)</small></h3>\";\n        }\n\n        if (issueInfo.DescriptionShort != null && issueInfo.DescriptionShort != \"\") {\n            htmlContent += \"<h3>\" + litShortDescription + \"</h3><p class='healthIssueInfo'>\" + issueInfo.DescriptionShort + \"</p>\";\n        }\n\n        if (issueInfo.Description != null && issueInfo.Description != \"\") {\n            htmlContent += \"<h3>\" + litDescription + \"</h3><p class='healthIssueInfo'>\" + issueInfo.Description + \"</p>\";\n        }\n\n        if (issueInfo.MedicalCondition != null && issueInfo.MedicalCondition != \"\" && typeof (issueInfo.MedicalCondition) != 'undefined' && issueInfo.MedicalCondition != null) {\n            htmlContent += \"<h3>\" + litOccurrence + \" + \" + litSymptom + \"</h3><p class='healthIssueInfo'>\" + issueInfo.MedicalCondition + \"</p>\";\n        }\n\n        if (issueInfo.TreatmentDescription != null && issueInfo.TreatmentDescription != \"\") {\n            htmlContent += \"<h3>\" + litFollow + \" + \" + litTreatment + \"</h3><p class='healthIssueInfo'>\" + issueInfo.TreatmentDescription + \"</p>\";\n        }\n\n        if (issueInfo.PossibleSymptoms != \"\" && issueInfo.PossibleSymptoms != null) {\n            htmlContent += \"<h3>\" + litPossibleSymptoms + \"</h3><p class='healthIssueInfo'>\" + issueInfo.PossibleSymptoms + \"</p>\";\n        }\n\n        //TODO: references should be shown properly - this string is comming from Wikipedia !!!! string ret = client.DownloadString(url);\n        htmlContent = htmlContent.replace(\"Cite error: There are <ref> tags on this page, but the references will not show without a {{reflist}} template (see the help page).\", \"\");\n\n        var windowHeight = $(\".container-table\").height();\n        _infoPage.css('min-height', windowHeight + 'px');\n\n        _infoPage.find(\".info_page_content\").append(htmlContent);\n        $(\"html, body\").animate({ scrollTop: 0 }, \"fast\");\n        $('html, body', window.parent.document).animate({ scrollTop: 100 }, 'fast');\n    }\n\n    function _createDiagnosisNameElement(issueId, diagnosisName) {\n        var diagnosisListElement = jQuery(\"<li/>\", {\n        });\n\n        var diagnosisNameElement = jQuery(\"<h4/>\", {\n            \"text\": diagnosisName,\n            \"class\": \"header diagnosis_name_header\"\n        });\n\n        var issueInfo = jQuery(\"<i/>\", {\n            \"class\": \"fa fa-info-circle ic-issue-info\"\n        });\n\n        issueInfo.bind('click', function () {\n            _ajaxGetIssueInfo(issueId);\n        });\n\n        diagnosisNameElement.append(issueInfo);\n\n        diagnosisListElement.append(diagnosisNameElement);\n\n        return diagnosisListElement;\n    }\n\n    function _createProbabilityElement(accuracy) {\n        diagnosisListElement = jQuery(\"<li/>\", {\n        });\n\n        var progress = jQuery(\"<div/>\", {\n            \"class\": \"progress\"\n        });\n\n        var bar = jQuery(\"<div/>\", {\n            \"class\": \"progress-bar progress-bar-primary animate\"\n        });\n        console.log(accuracy);\n        var currentProgress = 0;\n        bar.width(currentProgress + '%');\n        var interval = setInterval(function () {\n            if (currentProgress >= accuracy) {\n                clearInterval(interval);\n            } else {\n                currentProgress++;\n                bar.width(currentProgress + '%');\n            }\n        }, 20);\n        progress.append(bar);\n        diagnosisListElement.append(progress);\n        return diagnosisListElement;\n    }\n\n    function _createSpecialisationElement(specialisation) {\n        var specList = jQuery(\"<ul/>\", { \"class\": \"spec_list\" });\n\n        if (!includeAllSpec) {\n            $.each(specialisation, function () {\n                specListElement = jQuery(\"<li/>\", {\n                });\n                var spec = jQuery(\"<a/>\", {\n                    \"text\": this.Name,\n                    //TODO\n                    //\"href\": specUrl + \"/\" + this.Name + \"/\" + this.ID\n                    \"href\": specUrl + \"?specId=\" + this.SpecialistID\n                });\n\n                specListElement.append(spec);\n                specList.append(specListElement);\n            });\n        }\n        else {\n            var specNames = new Array();\n            $.each(specialisation, function () {\n                specNames.push(this.Name);\n            });\n            $.each(specialisation, function () {\n                specListElement = jQuery(\"<li/>\", {\n                });\n                var spec = jQuery(\"<a/>\", {\n                    \"text\": this.Name,\n                    \"href\": specUrl + \"?specs=\" + JSON.stringify(specNames)\n                });\n\n                specListElement.append(spec);\n                specList.append(specListElement);\n            });\n        }\n\n\n        var element = jQuery(\"<li/>\", {\n        });\n\n        element.append(specList);\n        return element;\n    }\n\n    function _clearDiagnosis() {\n        _plugin.find(\"ul\").empty();\n    }\n\n    function _setDiagnosisMessage(message) {\n        _diagnosisMessage.text(message);\n        _diagnosisMessage.show();\n    }\n\n    function _print(printSource) {\n        var name = printSource.find(\"h1\").text();\n        var printFooter = \"<div style=\\\"float:right;\\\"><img src=\\\"symptom_selector/images/logo.jpg\\\" alt=\\\"priaid\\\" class=\\\"logo\\\"><span><a href=\\\"http://www.priaid.com\\\" target=\\\"_blank\\\" class=\\\"priaid-powered\\\"> powered by  </a> </span></div>\"\n        printFooter += \"<div style=\\\"float:right;padding-right:16px;clear:both;\\\"><span><a href=\\\"http://www.priaid.com\\\" target=\\\"_blank\\\"  class=\\\"priaid-powered padding0\\\">(www.priaid.com)</a> </span> </div></div>\"\n        var printContent = printSource.clone();\n\n        printContent = printContent.html();\n\n        var popupWin = window.open('', '_blank', 'width=800,height=600');\n        popupWin.document.open();\n        popupWin.document.write(\"<html><head><link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"symptom_selector/print.css\\\"><title=\\\"priaid -\" + name + \"></title></head><body onload=\\\"window.print()\\\"><div id=\\\"#container\\\">\" + printContent + printFooter + \"</div></html>\");\n        //popupWin.document.write(html.join(\"\"));\n        popupWin.document.title = \"priaid - \" + name;\n        popupWin.document.close();\n    }\n\n    //////////////////ajax calls//////////////////////////////////////////\n\n    function _ajaxGetDiagnosis(symptoms, gender, year_of_birth) {\n        $.ajax({\n            url: pathToWebservice + \"/diagnosis\",\n            type: \"GET\",\n            data:\n                {\n                    token: token,\n                    format: \"json\",\n                    language: language,\n                    symptoms: JSON.stringify(symptoms),\n                    gender: gender,\n                    year_of_birth: year_of_birth,\n                    platform: currentPlatform\n                },\n            contentType: \"application/json; charset=utf-8\",\n            cache: false,\n            dataType: \"jsonp\",\n            jsonpCallback: \"_addDiagnosisCallback\",\n            success: function (responseData) { _addDiagnosisCallback(responseData); },\n            beforeSend: function (jqXHR, settings) {\n                _loader.show();\n            },\n            error: function (xhr, ajaxOptions, thrownError) {\n                if (window.console)\n                    console.log(xhr.responseText);\n            },\n            complete: function () {\n                _loader.hide();\n            }\n        });\n    }\n\n    function _ajaxGetIssueInfo(issueId) {\n        $.ajax({\n            url: pathToWebservice + \"/issues/\" + issueId + \"/info\",\n            type: \"GET\",\n            data:\n                {\n                    token: token,\n                    format: \"json\",\n                    language: language,\n                    platform: currentPlatform\n                },\n            contentType: \"application/json; charset=utf-8\",\n            cache: false,\n            dataType: \"jsonp\",\n            jsonpCallback: \"_addIssueInfoCallback\",\n            success: function (responseData) { _addIssueInfoCallback(responseData); },\n            beforeSend: function (jqXHR, settings) {\n                _infoPage.find(\"#infoPageLoader\").show();\n                _infoPage.show();\n            },\n            error: function (xhr, ajaxOptions, thrownError) {\n                if (window.console)\n                    console.log(xhr.responseText);\n            },\n            complete: function () {\n                _infoPage.find(\"#infoPageLoader\").hide();\n            }\n        });\n\n\n    }\n\n    //////////////////end ajax calls//////////////////////////////////////////\n\n    //////////////////end private functions//////////////////////////////////////////\n\n})(jQuery);\n\n/////////////diagosis result plugin end/////////////////////////\n//////////////////////////////////////////////////////////////////////\n\n//////////////////////////////////////////////////////////////////////\n/////////////specialisation result plugin start///////////////////////\n\n(function ($) {\n\n    var _plugin;\n    var _specialisationsList;\n    var _diagnosisMessage;\n    var _loader;\n\n    var methods = {\n\n        init: function (options) {\n\n            return this.each(function () {\n                _plugin = $(this);\n                _plugin.parent().addClass(\"box-inactive\");\n                _initSpecialisationList();\n            });\n        },\n        GetSpecialisations: function (options) {\n            _clearSpecialisations();\n            _ajaxGetSpecialisations(options.Symptoms, options.Gender, options.YearOfBirth);\n        },\n        Unbind: function (options) {\n            _plugin.unbind('click');\n            _plugin.empty();\n        }\n    };\n\n    $.fn.specialisations = function (method) {\n\n        if (methods[method]) {\n            return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));\n        } else if (typeof method === 'object' || !method) {\n            return methods.init.apply(this, arguments);\n        } else {\n            $.error('Method ' + method + ' does not exist on jQuery.diagnosis');\n        }\n\n    };\n\n    //////////////////private functions//////////////////////////////////////////\n    function _initSpecialisationList() {\n        _specialisationsList = jQuery(\"<ul/>\", { \"class\": \"diagnosis_list\" });\n\n        _diagnosisMessage = jQuery(\"<span/>\", { \"class\": \"message info\", \"text\": diagnosisMessage });\n        _diagnosisMessage.hide();\n        _loader = jQuery(\"<div/>\", { \"id\": \"diagnosisLoader\", \"class\": \"loader\" });\n        _loader.hide();\n        _plugin.append(_loader);\n        _plugin.append(_specialisationsList);\n        _plugin.append(_diagnosisMessage);\n    }\n\n    function _createSpecialisationElement(spec, allSuggestedSpec) {\n        _specialisationsList.append(_createSpecialisationNameElement(allSuggestedSpec, spec.Name));\n        _specialisationsList.append(_createProbabilityElement(spec.Accuracy));\n    }\n\n    function _addSpecialisationsCallback(specialisations) {\n        _diagnosisMessage.hide();\n        var allSuggestedSpec = new Array();\n        $.each(specialisations, function () {\n            allSuggestedSpec.push(this.Name);\n        });\n        var specnames = JSON.stringify(allSuggestedSpec);\n\n        $.each(specialisations, function () {\n            _createSpecialisationElement(this, specnames);\n        });\n        if (specialisations.length > 0) {\n            _plugin.parent().removeClass(\"box-inactive\");\n            _setDiagnosisMessage(diagnosisMessage);\n        }\n        else {\n            _plugin.parent().addClass(\"box-inactive\");\n            _setDiagnosisMessage(noDiagnosisMessage);\n        }\n    }\n\n    function _createSpecialisationNameElement(allSuggestedSpec, specName) {\n        var specListElement = jQuery(\"<li/>\", {\n        });\n\n        var spec = jQuery(\"<a/>\", {\n            \"class\": \"suggested_spec\",\n            \"text\": specName,\n            \"href\": specUrl + \"?specs=\" + allSuggestedSpec\n        });\n\n        var specNameElement = jQuery(\"<h4/>\", {\n            \"class\": \"header diagnosis_name_header\"\n        });\n\n        specNameElement.append(spec);\n\n        specListElement.append(specNameElement);\n\n        return specListElement;\n    }\n\n    function _createProbabilityElement(accuracy) {\n        specListElement = jQuery(\"<li/>\", {\n        });\n\n        var progress = jQuery(\"<div/>\", {\n            \"class\": \"progress\"\n        });\n\n        var bar = jQuery(\"<div/>\", {\n            \"class\": \"progress-bar progress-bar-primary animate\"\n        });\n        var currentProgress = 0;\n        bar.width(currentProgress + '%');\n        var interval = setInterval(function () {\n            if (currentProgress >= accuracy) {\n                clearInterval(interval);\n            } else {\n                currentProgress++;\n                bar.width(currentProgress + '%');\n            }\n        }, 20);\n        progress.append(bar);\n        specListElement.append(progress);\n        return specListElement;\n    }\n\n    function _clearSpecialisations() {\n        _plugin.find(\"ul\").empty();\n    }\n\n    function _setDiagnosisMessage(message) {\n        _diagnosisMessage.text(message);\n        _diagnosisMessage.show();\n    }\n    //////////////////ajax calls//////////////////////////////////////////\n\n    function _ajaxGetSpecialisations(symptoms, gender, year_of_birth) {\n        $.ajax({\n            url: pathToWebservice + \"/diagnosis/specialisations\",\n            type: \"GET\",\n            data:\n                {\n                    token: token,\n                    format: \"json\",\n                    language: language,\n                    symptoms: JSON.stringify(symptoms),\n                    gender: gender,\n                    year_of_birth: year_of_birth,\n                    platform: currentPlatform\n                },\n            contentType: \"application/json; charset=utf-8\",\n            cache: false,\n            dataType: \"jsonp\",\n            jsonpCallback: \"_addSpecialisationsCallback\",\n            success: function (responseData) { _addSpecialisationsCallback(responseData); },\n            beforeSend: function (jqXHR, settings) {\n                _loader.show();\n            },\n            error: function (xhr, ajaxOptions, thrownError) {\n                if (window.console)\n                    console.log(xhr.responseText);\n            },\n            complete: function () {\n                _loader.hide();\n            }\n        });\n    }\n    //////////////////end ajax calls//////////////////////////////////////////\n\n    //////////////////end private functions//////////////////////////////////////////\n\n})(jQuery);\n\n/////////////specialisation result plugin end/////////////////////////\n//////////////////////////////////////////////////////////////////////\n\n\n//////////////global cookies functions ///////////////////\n\nfunction setCookie(cname, cvalue, exdays) {\n    var d = new Date();\n    d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));\n    var expires = \"expires=\" + d.toGMTString();\n    document.cookie = cname + \"=\" + cvalue + \"; \" + expires;\n}\n\nfunction getCookie(cname) {\n    var name = cname + \"=\";\n    var ca = document.cookie.split(';');\n    for (var i = 0; i < ca.length; i++) {\n        var c = $.trim(ca[i]);\n        if (c.indexOf(name) == 0) return c.substring(name.length, c.length);\n    }\n    return \"\";\n}\n\nfunction isDisclaimerChecked() {\n    var isChecked = getCookie(\"diagnosisDisclaimer\");\n    return isChecked !== \"\" ? isChecked : false;\n}\n\n\n//////////////end cookies functions //////////////////////////////////\n\nfunction inArray(val, arr) {\n    cnt = 0;\n    index = -1;\n    $(arr).each(function () {\n        if (parseInt(this) == parseInt(val)) { index = cnt; }\n        cnt++;\n    });\n    return index;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./symptom_selector/selector.js"],"sourceRoot":""}